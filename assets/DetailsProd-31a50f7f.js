import{r,_ as W,a as V,b as $,u as q,j as e,L as l}from"./index-b4947880.js";import{p as z}from"./products-48c132cf.js";import{b as O}from"./index-df878247.js";/* empty css             */import{b as n,e as U,f as Y,g as y,F as N,a as J}from"./index.esm-42103bcd.js";import{i as K,j as Q}from"./index.esm-bf969389.js";import{b as X}from"./index.esm-30be7a4c.js";import{g as Z}from"./logo_genius_btn-1d1d7c8b.js";const ee=r.lazy(()=>W(()=>import("./Review-b71f6e9f.js"),["assets/Review-b71f6e9f.js","assets/index-b4947880.js","assets/index-cd08b88f.css","assets/index.esm-a7e5e000.js","assets/index.esm-42103bcd.js","assets/Review-26053c06.css"])),ce=()=>{const{prodID:o,premGenius:w,cartProd:k,setCartProd:S,liked:p,setLiked:_,mobile:h}=r.useContext(V),[x,F]=r.useState(0),[v,D]=r.useState(0),[t,c]=r.useState(""),[T,m]=r.useState(null),[C,f]=r.useState(!1),[E,b]=r.useState(!1),L=$(),M=q();r.useEffect(()=>{o||L("/")},[o]),r.useEffect(()=>{window.innerWidth<550&&M.pathname=="/details-product"?b(!0):b(!1)},[]),r.useEffect(()=>{window.addEventListener("scroll",()=>{s()});const s=()=>{const d=document.querySelector(".detailsProd_inStock");if(d){const H=d.getBoundingClientRect().bottom<=window.innerHeight;f(!!H)}};return window.removeEventListener("scroll",()=>{s()})}),r.useEffect(()=>{window.scroll(0,0);let s=Math.random()*1+4;F(s.toString().slice(0,3)),D(Math.floor(Math.random()*500))},[]);const u=new Date,g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Sathurday"];let i=null,a=null,R=u.getDate()+2,B=u.getDate()+1;switch(u.getDay()){case 1:i=3,a=2;break;case 2:i=4,a=3;break;case 3:i=5,a=4;break;case 4:i=6,a=5;break;case 5:i=7,a=6;break;case 6:i=1,a=7;break;default:i=2,a=1}const I=s=>{h||window.scroll({top:0,left:0,behavior:"smooth"}),k.includes(s)||S(d=>[...d,s]),c("addedToCart"),j(),setTimeout(()=>{document.querySelector(".detailsProd_link_to_cart").click()},1400)},A=s=>{if(window.innerWidth>750&&window.scroll({top:0,left:0,behavior:"smooth"}),p.includes(s)){const d=p.filter(P=>P!==s);_(d),c("removedFromFav"),j();return}else _(d=>[...d,s]),c("addedToFavourite"),j()},j=()=>{setTimeout(()=>{c(!1)},1400)},G=s=>{m(s)};return e.jsx("div",{className:"details_prod_background",children:z.map(s=>s.id==o?e.jsxs("div",{className:"detailsProd_main_container",children:[e.jsxs("div",{className:"detailsProd_image_container",children:[e.jsx(O.LazyLoadImage,{src:s.image,placeholderSrc:s.smallImg,effect:"blur",alt:"product details"}),e.jsxs("div",{className:"detailsProd_flags",children:[e.jsx("div",{className:"detailsProd_genius",children:"Genius"}),e.jsxs("div",{children:[s.price[0]<25&&e.jsx("span",{children:"Top Deals"}),s.price[0]<25&&s.price[1]>50?e.jsx("span",{children:"Top Favourite"}):null]})]})]}),e.jsxs("div",{className:"detailsProd_main_content",children:[e.jsx("h1",{children:s.name}),s.store&&e.jsx(l,{to:s.store,className:"detailsProd_link",children:"Visit the official store"}),e.jsxs("div",{className:"details_products_review",style:{borderTop:E?"10px solid #f4f4f4":null},children:[e.jsx(n,{className:"products_review_star"}),e.jsx(n,{className:"products_review_star"}),e.jsx(n,{className:"products_review_star"}),e.jsx(n,{className:"products_review_star"}),x<=4.1?null:x>=4.75?e.jsx(n,{className:"products_review_star"}):e.jsx(U,{className:"products_review_star"}),e.jsxs("p",{children:[x," ",e.jsxs("span",{children:["(",v," reviews)"]})]}),e.jsx("button",{onClick:()=>m(!0),className:"detailsProd_add_review_btn",children:"Add review"}),T&&e.jsx(ee,{props:s,closeFromChild:G})]}),e.jsxs("p",{className:"detailsProd_buyers",children:[v%2==0?100:50,"+ bought in past month"]}),e.jsxs("div",{className:"detailsProd_price",children:[e.jsxs("div",{children:[e.jsxs("p",{children:["-",s.price[1],"%"]}),e.jsxs("h2",{children:[s.price[0],"£"]})]}),e.jsxs("p",{children:["Retail price: ",(s.price[0]/(1-s.price[1]/100)).toString().slice(0,3).slice(-1)=="."?(s.price[0]/(1-s.price[1]/100)).toString().slice(0,2):(s.price[0]/(1-s.price[1]/100)).toString().slice(0,3),"£"]})]}),e.jsxs("div",{className:"detailsProd_delivery",children:[e.jsx("div",{children:e.jsx("span",{children:e.jsx(K,{})})}),e.jsxs("div",{children:[e.jsx("h3",{children:"Delivery"}),e.jsxs("div",{className:"detailsProd_delivery_options",children:[e.jsxs("div",{children:[e.jsx("p",{children:"Standard delivery"}),e.jsxs("p",{children:[g[i]," ",R]}),e.jsx("p",{children:"Free"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Next day delivery"}),e.jsxs("p",{children:[g[a]," ",B]}),e.jsx("p",{children:"4.99£"})]})]})]})]})]}),e.jsx("div",{className:"detailsProd_buy_main_container",children:e.jsxs("div",{className:"detailsProd_buy_continer",children:[e.jsxs("div",{className:"detailsProd_benefits",children:[e.jsx("div",{children:e.jsx("span",{children:e.jsx(Y,{})})}),e.jsxs("div",{children:[e.jsx("p",{children:"Advantages"}),e.jsxs("p",{className:"detailsProd_benefits_p",children:[e.jsx(Q,{}),"Free return within 30 days ",e.jsx(l,{to:"/help2",children:" Details"})]})]})]}),e.jsxs("div",{className:"detailsProd_buy_price",children:[e.jsxs("div",{children:[e.jsxs("p",{children:["PRP: ",(s.price[0]/(1-s.price[1]/100)).toString().slice(0,3).slice(-1)=="."?(s.price[0]/(1-s.price[1]/100)).toString().slice(0,2):(s.price[0]/(1-s.price[1]/100)).toString().slice(0,3),"£"]}),e.jsxs("p",{children:[s.price[0],"£"]})]}),e.jsx("div",{children:e.jsxs("span",{className:"detailsProd_installments",children:["Monthly installments from ",s.price[0]>100?e.jsxs("p",{children:[String(s.price[0]/5).slice(0,5),"£"]}):e.jsxs("p",{children:[String(s.price[0]/4).slice(0,4),"£"]}),e.jsx(l,{to:"/help2",children:" More details"})]})})]}),e.jsxs("div",{className:"detailsProd_buy_genius",children:[e.jsx("img",{src:Z,alt:"genius"}),w?e.jsx("p",{children:"Geniuns unloked"}):e.jsxs(l,{to:"/genius",children:["Try Genius for ",e.jsx("span",{children:"free next day delivery"})]})]}),e.jsx("h3",{className:"detailsProd_inStock",children:"In stock"}),e.jsxs("div",{className:`detailsProd_buttons ${C?null:"detailsProd_menu_fixed"}`,children:[e.jsxs("button",{onClick:()=>I(s.id),className:"detaildProd_basket",children:[e.jsx(y,{})," Add to basket"]}),e.jsxs("button",{onClick:()=>A(s.id),className:"detaildProd_favourites",children:[p.includes(s.id)?e.jsx(N,{id:"red-heart"}):e.jsx(J,{}),"Add to favourites"]})]}),t&&e.jsxs("div",{className:"detailsProd_confirmation",style:{marginTop:h?`${window.scrollY-92}px`:null,height:h?"100vh":null},children:[t=="addedToCart"?e.jsx("span",{children:e.jsx(y,{id:"prodDetails_cart"})}):t=="addedToFavourite"?e.jsx("span",{children:e.jsx(N,{id:"prodDetails_heart"})}):t=="removedFromFav"&&e.jsx("span",{children:e.jsx(X,{className:"detailsProd_bin_icon"})}),t=="removedFromFav"?e.jsx("p",{children:"Product removed"}):e.jsx("p",{children:"Product added"})]})]})}),e.jsx(l,{to:"/cart",className:"detailsProd_link_to_cart"}),e.jsx(l,{to:"/liked",className:"detaildProd_link_to_favorites"})]},s.id+s.price[0]):null)})};export{ce as default};
