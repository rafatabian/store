import{G as w,r,a as S,j as e,L as I}from"./index-3882f5f9.js";import{b as C}from"./index-da87bedb.js";/* empty css             */import{h as F}from"./index.esm-b02debe1.js";import{k as M,l as $}from"./index.esm-42e6b490.js";import{b as p}from"./index.esm-27157d12.js";import{c as E}from"./index.esm-ad358394.js";const L="/store/assets/store_shield-4d66c471.png";function R(t){return w({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M3 2.436v12.136l7.281-6.098-7.281-6.038zM4 4.564l4.719 3.913-4.719 3.952v-7.865zM15.281 8.474l-6.46 5.41-0.643-0.768 5.54-4.639-5.537-4.592 0.639-0.77 6.461 5.359z"}}]})(t)}const T=({props:t,priceFromChild:c})=>{const{cartProd:x,setCartProd:u,setProductHistory:P,liked:d,setLiked:m}=r.useContext(S),[v,n]=r.useState(t.price[0]),[i,h]=r.useState(1),[y,b]=r.useState(!0),[l,N]=r.useState(!1);let o;const _=s=>{i===1&&s==="-"?(P(!0),u(x.filter(a=>a!==t.id))):s==="+"?(h(i+1),o=i+1,c([t.price[0],"+"])):(h(i-1),o=i-1,c([t.price[0],"-"])),n(parseFloat(o*t.price[0]).toFixed(2))},k=()=>{d.includes(t.id)?m(d.filter(s=>s!==t.id)):m(s=>[...s,t.id])},j=s=>{n(parseFloat(i*t.price[0]+s).toFixed(2)),c([s,"w"])};r.useEffect(()=>{const s=document.querySelector(`.cartProd_first_input${t.id}`),a=document.querySelector(`.cartProd_second_input${t.id}`);s&&(s.checked=!1),a&&(a.checked=!1)},[i]);const f=s=>{const a=document.querySelector(`.cartProd_first_input${t.id}`),g=document.querySelector(`.cartProd_second_input${t.id}`);s==="first"?(a.checked=!0,n(parseFloat(i*t.price[0]+5.99).toFixed(2)),c([5.99,"w",i,t.price[0],t.id])):(g.checked=!0,n(parseFloat(i*t.price[0]+7.99).toFixed(2)),c([7.99,"w",i,t.price[0],t.id]))};return r.useEffect(()=>{(t.id==29||t.id==30||t.id==31||t.id==32||t.id==33||t.id==34||t.id==35||t.id==45)&&b(!1)}),e.jsxs("div",{className:"cartProd_container",children:[e.jsx("div",{className:"cartProd_img_container",children:e.jsx(C.LazyLoadImage,{src:t.image,placeholderSrc:t.smallImg,effect:"blur",alt:"product"})}),e.jsxs("div",{className:"cartProd_info_and_price",children:[e.jsxs("div",{className:"cartProd_info",children:[e.jsx("h1",{children:t.name}),e.jsxs("span",{children:[e.jsx("p",{className:"cartProd_info_sold_by",children:"Sold by: Store"}),e.jsx("p",{children:"Avaiability: In stock"})]}),y?e.jsxs("div",{className:"cartRrod_info_warranty",onClick:()=>N(!l),style:l?{borderBottom:"none"}:null,children:[e.jsxs("span",{children:[e.jsx("img",{src:L,alt:"wananty"}),e.jsx("p",{children:"Extend the standard warranty by 1 or 2 years!"})]}),e.jsx(p,{})]}):e.jsxs("div",{className:"cartProd_subscription",children:[e.jsxs("p",{children:[e.jsx(E,{}),"Climate Pledge Friendly"]}),e.jsxs("div",{className:"cartProd_subscription_checkbox",children:[e.jsxs("div",{children:[e.jsx("input",{type:"checkbox"}),e.jsx("p",{children:"Subscribe & save:"})]}),e.jsx("p",{className:"cartPRod_subscription_moreInfo",children:"Save 10% now and up to 15% when you schedule repeat deliveries."})]})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"cartProd_inputs",children:[e.jsxs("div",{className:"cartProd_inputs_container_options",onClick:()=>f("first"),children:[e.jsx("div",{className:"cartProd_inputs_radio",children:e.jsx("input",{type:"radio",name:`warranty${t.id}`,value:"5.99",onClick:()=>j(5.99),className:`cartProd_first_input${t.id}`})}),e.jsxs("div",{className:"cartProd_inputs_text",children:[e.jsx("p",{children:"1 year extra warranty"}),e.jsx("p",{children:"5.99£"})]})]}),e.jsxs("div",{className:"cartProd_inputs_container_options",onClick:()=>f("second"),children:[e.jsx("div",{className:"cartProd_inputs_radio",children:e.jsx("input",{type:"radio",name:`warranty${t.id}`,value:"7.99",onClick:()=>j(7.99),className:`cartProd_second_input${t.id}`})}),e.jsxs("div",{className:"cartProd_inputs_text",children:[e.jsx("p",{children:"2 years extra warranty"}),e.jsx("p",{children:"7.99£"})]})]})]}),e.jsxs(I,{to:"/help2",className:"cartProd_inputs_link",children:[e.jsx(R,{}),"Show more details"]})]})]}),e.jsxs("div",{className:"cartProd_price",children:[e.jsxs("h1",{children:[v,"£"]}),e.jsxs("span",{children:[" ",e.jsx("p",{children:"Installments with"})," ",e.jsxs("p",{children:[e.jsx(F,{}),"MyWallet"]})]}),e.jsxs("div",{className:"cartProd_number_items",children:[e.jsx("button",{onClick:()=>_("-"),children:e.jsx(M,{})}),e.jsx("p",{children:i}),e.jsx("button",{onClick:()=>_("+"),children:e.jsx($,{})})]}),e.jsxs("button",{onClick:()=>k(),className:"cartProd_price_move_btn",children:[d.includes(t.id)?"Remove from ":"Move to ","liked"]}),e.jsx("button",{onClick:()=>u(x.filter(s=>s!==t.id)),className:"cartProd_price_delete_btn",children:"Delete"})]})]})]})};export{T as default};
