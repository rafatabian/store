import{r as t,a as g,j as s,L as r}from"./index-b238fb6e.js";import{F as w,a as k,b as i,e as C,h as v,g as F}from"./index.esm-782353b9.js";import{b as S}from"./index-c106062c.js";const P=({props:e})=>{const{liked:n,setLiked:o,setProdID:_,cartProd:x,setCartProd:h,mobile:u}=t.useContext(g),[l,j]=t.useState(0),[p,f]=t.useState(0);t.useEffect(()=>{let a=Math.random()*1+4;j(a.toString().slice(0,3)),f(Math.floor(Math.random()*500))},[]);const m=a=>{n.includes(a)?o(n.filter(c=>c!==a)):o(c=>[...c,a])},N=a=>{x.includes(a)||h(c=>[...c,a])},d=a=>{_(a)};return s.jsxs("div",{className:"products_main_container",style:{margin:u?3:null},children:[s.jsxs("div",{className:"products_like_icon_container",children:[" ",s.jsx("span",{children:"genius"}),n.includes(e.id)?s.jsx("span",{onClick:()=>m(e.id),className:"home_heart_full_icon",children:s.jsx(w,{})}):s.jsx("span",{onClick:()=>m(e.id),className:"home_heart_empty_icon",children:s.jsx(k,{})})]}),s.jsxs("div",{className:"products_image_container",children:[s.jsx(r,{to:"/details-product",onClick:()=>d(e.id),children:s.jsx(S.LazyLoadImage,{src:e.image,placeholderSrc:e.smallImg,effect:"blur",alt:"products"})}),s.jsxs("div",{children:[e.price[0]<25&&s.jsx("span",{children:"Top Deals"}),e.price[0]<25&&e.price[1]>50?s.jsx("span",{className:"home_top_favourite_span",children:"Top Favourite"}):null]})]}),s.jsxs("div",{className:"products_price_title_review",children:[s.jsx(r,{to:"/details-product",onClick:()=>d(e.id),className:"product_name_link",children:s.jsx("h2",{children:e.name.length>44?e.name.slice(0,44)+"...":e.name})}),s.jsxs(r,{to:"/details-product",className:"products_review",onClick:()=>d(e.id),children:[s.jsx(i,{className:"products_rewiew_star_icon"}),s.jsx(i,{className:"products_rewiew_star_icon"}),s.jsx(i,{className:"products_rewiew_star_icon"}),s.jsx(i,{className:"products_rewiew_star_icon"}),l<=4.1?null:l>=4.75?s.jsx(i,{className:"products_rewiew_star_icon"}):s.jsx(C,{className:"products_rewiew_star_icon"}),s.jsxs("p",{children:[l," ",s.jsxs("span",{children:["(",p,")"]})]})]}),s.jsxs("div",{className:"products_payment_split",children:[s.jsx(v,{}),e.price[0]>100?s.jsxs("p",{children:["5 payments of ",String(e.price[0]/5).slice(0,5),"£"]}):s.jsxs("p",{children:["3 payments of ",String(e.price[0]/3).slice(0,4),"£"]})]}),s.jsxs("div",{className:"products_price_cartBtn",children:[s.jsxs("span",{children:[s.jsxs("p",{children:[e.price[1],"% OFF"]}),s.jsxs("h3",{children:[e.price[0],"£"]})]}),s.jsx(r,{to:"/cart",onClick:()=>N(e.id),children:s.jsx(F,{})})]})]})]})};export{P as default};
